## Академический проект _"Анализ результатов А/В тестирования"_
### Формализация задачи
В ходе тестирования гипотезы целевой группе была предложена новая механика оплаты услуг на сайте, у контрольной группы оставалась базовая механика. Необходимо проанализировать итоги эксперимента и сделать вывод, стоит ли запускать новую механику оплаты на всех пользователей.

При этом часть данных была передана позже основного пакета. Напишем функцию для пересчета метрик и выводу графиков на основании добавленных данных.  


### Предварительный список вопросов

 1. Какие метрики могут быть показателями наличия / отсутствия разницы между контрольной и тестовой группами? ([перейти к вопросу](#point1))
 2. Есть ли различия в показателях? ([перейти к вопросу](#point2))
 3. Являются ли эти различия статистически значимыми? ([перейти к вопросу](#point3))  
 4. Написать функцию для подгрузки дополнительных данных и пересчета метрик с их учетом ([перейти к вопросу](#point4))  
 5. Стоит ли раскатывать новую механику на всех пользователей? ([перейти к вопросу](#point5))

### Входные данные

В качестве входных данных были предоставлены 4 csv-файла, загруженные на Яндекс Диск:

#### [groups.csv](https://disk.yandex.ru/d/UhyYx41rTt3clQ) – файл с информацией о принадлежности пользователя к контрольной или экспериментальной группе.
 * id - идентификационный номер пользователя
 * grp - принадлежность пользователя к группе: А – контрольная, B – тестовая

#### [active_studs.csv](https://disk.yandex.ru/d/Tbs44Bm6H_FwFQ) – файл с информацией о пользователях, которые зашли на платформу в дни проведения эксперимента. 
 * student_id - идентификационный номер пользователя

#### [checks.csv](https://disk.yandex.ru/d/pH1q-VqcxXjsVA) – файл с информацией об оплатах пользователей в дни проведения эксперимента. 
 * student_id - идентификационный номер пользователя
 * rev - сумма покупок в продукте

#### [groups_add.csv](https://disk.yandex.ru/d/5Kxrz02m3IBUwQ) – дополнительный файл с пользователями, который был передан спустя 2 дня после передачи данных.
 * id - идентификационный номер пользователя 
 * grp - принадлежность пользователя к группе: А – контрольная, B – тестовая
 
### Реализация проекта
1.  Подгрузила данные по ссылкам через функцию для парсинга файлов и присвоения имен. Провела EDA для трех изначально переданных фреймов. Число **активных** в дни эксперимента пользователей составляет 8 341. Оплату совершил всего **541 пользователь**; медианный чек по платящему клиенту (без разделения на тестовую и контрольную группы) равняется 840, а средняя выручка - примерно 1060. Скорее всего, распределение не является нормальным.
1а. Во фрейме active нет информации *о 149 платящих пользователях*, информация о которых содержится во фрейме payments. Дальнейшее исследование будет базироваться на предположении, что те пользователи, которые совершили оплату в дни эксперимента, но отсутствуют во фрейме active, не могли воспользоваться новым методом оплаты - значит, на показатели данных пользователей новая механика не повлияла. **В дальнейших шагах исследования такую группу пользователей рассматривать я не буду**.

2. Создала единый фрейм из трех изначально переданных файлов. Обратила внимание на то, что во фрейме groups нет информации о 13 активных пользователях. Предположительно, данная информация содержится в том файле, который был передан позже.

<div id="point1"></div>

3. В качестве основных метрик для отслеживания предложила: 
 * **конверсию в оплату** (т.е. сам факт совершения покупки говорит о том, что новая механика позволила конвертировать активного пользователя в платящего);
 * **доход с платящего пользователя** (т.е. ввиду более удобной механики совершения платежей платящие пользователи стали тратить больше денег в продукте).
 
<div id="point2"></div>
 
4. Анализ объединенного фрейма показал: 
 * Распределение между контрольной и тестовой группами неравномерное. Численность тестовой группы (B) **примерно в 4.5 раза больше**, чем численность контрольной (А);
 * Как ARPPU, так и ARPU в контрольной группе (А) **меньше**, чем в тестовой (В) *(933.59 против 1255.83 и 47.44 против 57.86 соответственно)*;
 * При этом доля платящих пользователей в контрольной группе (А) **больше**, чем в тестовой (В) *(5.08% против 4.61%)*;
 * Среднеквадратическое отклонение в контрольной (A) и тестовой (В) группах **идентичны**. 

<div id="point3"></div>

5.  Проверила наличие статистически значимых различий в показателе **конверсии в покупку**. Так как конверсия является *категориальной* переменной, использовала для оценки различий между контрольной и тестовой группах **критерий хи-квадрат**.

В ходе сравнения **конверсии в платящего пользователя** между контрольной и тестовой группой статистически значимых различий обнаружено не было: p-уровень значимости существенно выше установленного порога 0.05, что не позволяет опровергнуть нулевую гипотезу об отсутствии отличий между контрольной и тестовой группами.

6. Сравнила **выручку с клиента (ARPPU)** в контрольной и тестовой группах. Хотя распределение метрики не является нормальным, размер выборок в тестовой и в контрольной группах *(78 и 313 пользователей соответственно)* и равенство дисперсий *(применен критерий Левена)* позволяет использовать t-критерий Стьюдента для выявления статистически значимых различий по ARPPU. Ввиду неравенства выборок, **применила поправку Уэлча**.

В ходе сравнения ARPPU у контрольной и тестовой групп **были выявлены статистически значимые различия** (p-уровень значимости составил 0.005).

<div id="point4"></div>

7. Написала **функцию для пересчета метрик на основе дополнительных данных**. 
Обнаружены статистически значимые различия в показателе ARPPU, однако не обнаружено значимое воздействие новой механики оплаты на конверсию в покупку. **Хотя новая механика не увеличит число платящих пользователей, увеличится общая выручка за счет роста ARPPU**. Доверительный интервал для дельты, на которую изменится ARPPU при внедрении новой механики, **составляет от 99.64 до 548.94**.

8. Написала функцию для визуализации основных метрик по эксперименту.

<div id="point5"></div>

### Вывод
На основании t-критерия мы можем утверждать, что новая механика оказала статистически значимое положительное влияние на среднюю выручку с платящего пользователя (p = 0.005).

Хотя при первичном рассмотрении могло показаться, что доля платящих пользователей по контрольной группе выше, чем по тестовой, не имеется достаточных оснований, чтобы считать данные различия статистически значимыми.

Таким образом, **новую механику стоит раскатывать на всех пользователей**.


***

## Коммиты: 

|#   	|date 		|files_updates 	|comment									|
|------:|:----------|:--------------|:------------------------------------------|
|1 		|27 Mar 2025|all			|initial commit								|
|2 		|27 Mar 2025|all			|edited README								|

